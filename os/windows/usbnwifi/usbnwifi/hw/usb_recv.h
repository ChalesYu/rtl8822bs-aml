#ifndef __INC_RECEIVE_H
#define __INC_RECEIVE_H

#define MAX_RECEIVE_BUFFER_SIZE 32768

// This list is from the new linux driver.
// TODO: Complete the correspondence between the old 9083 rate list and the new rate list.
enum phydm_ctrl_info_rate {
	ODM_RATE1M			= 0x00,
	ODM_RATE2M			= 0x01,
	ODM_RATE5_5M		= 0x02,
	ODM_RATE11M			= 0x03,
/* OFDM Rates, TxHT = 0 */
	ODM_RATE6M			= 0x04,
	ODM_RATE9M			= 0x05,
	ODM_RATE12M			= 0x06,
	ODM_RATE18M			= 0x07,
	ODM_RATE24M			= 0x08,
	ODM_RATE36M			= 0x09,
	ODM_RATE48M			= 0x0A,
	ODM_RATE54M			= 0x0B,
/* MCS Rates, TxHT = 1 */
	ODM_RATEMCS0			= 0x0C,
	ODM_RATEMCS1			= 0x0D,
	ODM_RATEMCS2			= 0x0E,
	ODM_RATEMCS3			= 0x0F,
	ODM_RATEMCS4			= 0x10,
	ODM_RATEMCS5			= 0x11,
	ODM_RATEMCS6			= 0x12,
	ODM_RATEMCS7			= 0x13,
	ODM_RATEMCS8			= 0x14,
	ODM_RATEMCS9			= 0x15,
	ODM_RATEMCS10			= 0x16,
	ODM_RATEMCS11			= 0x17,
	ODM_RATEMCS12			= 0x18,
	ODM_RATEMCS13			= 0x19,
	ODM_RATEMCS14			= 0x1A,
	ODM_RATEMCS15			= 0x1B,
	ODM_RATEMCS16			= 0x1C,
	ODM_RATEMCS17			= 0x1D,
	ODM_RATEMCS18			= 0x1E,
	ODM_RATEMCS19			= 0x1F,
	ODM_RATEMCS20			= 0x20,
	ODM_RATEMCS21			= 0x21,
	ODM_RATEMCS22			= 0x22,
	ODM_RATEMCS23			= 0x23,
	ODM_RATEMCS24			= 0x24,
	ODM_RATEMCS25			= 0x25,
	ODM_RATEMCS26			= 0x26,
	ODM_RATEMCS27			= 0x27,
	ODM_RATEMCS28			= 0x28,
	ODM_RATEMCS29			= 0x29,
	ODM_RATEMCS30			= 0x2A,
	ODM_RATEMCS31			= 0x2B,
	ODM_RATEVHTSS1MCS0	= 0x2C,
	ODM_RATEVHTSS1MCS1	= 0x2D,
	ODM_RATEVHTSS1MCS2	= 0x2E,
	ODM_RATEVHTSS1MCS3	= 0x2F,
	ODM_RATEVHTSS1MCS4	= 0x30,
	ODM_RATEVHTSS1MCS5	= 0x31,
	ODM_RATEVHTSS1MCS6	= 0x32,
	ODM_RATEVHTSS1MCS7	= 0x33,
	ODM_RATEVHTSS1MCS8	= 0x34,
	ODM_RATEVHTSS1MCS9	= 0x35,
	ODM_RATEVHTSS2MCS0	= 0x36,
	ODM_RATEVHTSS2MCS1	= 0x37,
	ODM_RATEVHTSS2MCS2	= 0x38,
	ODM_RATEVHTSS2MCS3	= 0x39,
	ODM_RATEVHTSS2MCS4	= 0x3A,
	ODM_RATEVHTSS2MCS5	= 0x3B,
	ODM_RATEVHTSS2MCS6	= 0x3C,
	ODM_RATEVHTSS2MCS7	= 0x3D,
	ODM_RATEVHTSS2MCS8	= 0x3E,
	ODM_RATEVHTSS2MCS9	= 0x3F,
	ODM_RATEVHTSS3MCS0	= 0x40,
	ODM_RATEVHTSS3MCS1	= 0x41,
	ODM_RATEVHTSS3MCS2	= 0x42,
	ODM_RATEVHTSS3MCS3	= 0x43,
	ODM_RATEVHTSS3MCS4	= 0x44,
	ODM_RATEVHTSS3MCS5	= 0x45,
	ODM_RATEVHTSS3MCS6	= 0x46,
	ODM_RATEVHTSS3MCS7	= 0x47,
	ODM_RATEVHTSS3MCS8	= 0x48,
	ODM_RATEVHTSS3MCS9	= 0x49,
	ODM_RATEVHTSS4MCS0	= 0x4A,
	ODM_RATEVHTSS4MCS1	= 0x4B,
	ODM_RATEVHTSS4MCS2	= 0x4C,
	ODM_RATEVHTSS4MCS3	= 0x4D,
	ODM_RATEVHTSS4MCS4	= 0x4E,
	ODM_RATEVHTSS4MCS5	= 0x4F,
	ODM_RATEVHTSS4MCS6	= 0x50,
	ODM_RATEVHTSS4MCS7	= 0x51,
	ODM_RATEVHTSS4MCS8	= 0x52,
	ODM_RATEVHTSS4MCS9	= 0x53,
};
NDIS_STATUS
HwUsbRecvStop(
    PNIC Nic
    );
       
NDIS_STATUS
HwUsbRecvStart(
    PNIC Nic
    );

NDIS_STATUS
HwUsbAllocateRecvResources(
    __in PNIC Nic
    );

NDIS_STATUS
HwUsbFreeRecvResources(
    __in PNIC Nic
    );

VOID
HwUsbFreeRecvFragment(
                __in  PNIC Nic,
                __in  PNIC_RX_FRAGMENT NicFragment
                ) ;

VOID
HwUsbProcessReceivedPacket(
    PNIC    Nic,
    PNIC_RX_FRAGMENT     Rfd
    );

static int rx_c2h_pkt_hdr_parse(u8 *buf, u16 len, u8 *id, u8 *seq, u8 *plen, u8 **payload);
inline int wf_rx_notice_process(u8 *pbuf, u16 skb_len);
static int rx_txDataRpt_parse(u8 *pdata, u8 len, u16 *seqNum);
void rx_c2h_ra_report_handler(u8 *cmd_buf, u8 cmd_len);
void phydm_print_rate(u8	rate);

#endif // #ifndef __INC_RECEIVE_H

